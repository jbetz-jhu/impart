<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Approximate Information from Sample Size: Mann-Whitney Estimand — mann_whitney • impart</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Approximate Information from Sample Size: Mann-Whitney Estimand — mann_whitney"><meta name="description" content="This function provides an asymptotic approximation to the information
(i.e. precision, inverse of the variance) provided by two samples under
assumed values of nuisance parameters for an ordinal outcome, analyzed using
the Mann-Whitney estimand. This can be obtained by specifying the value of
the Mann-Whitney estimand or the probability mass functions of outcomes in
each treatment arm. These functions may be useful in pre-trial
planning to determine when analyses may occur under different assumptions
about the nuisance parameters involved."><meta property="og:description" content="This function provides an asymptotic approximation to the information
(i.e. precision, inverse of the variance) provided by two samples under
assumed values of nuisance parameters for an ordinal outcome, analyzed using
the Mann-Whitney estimand. This can be obtained by specifying the value of
the Mann-Whitney estimand or the probability mass functions of outcomes in
each treatment arm. These functions may be useful in pre-trial
planning to determine when analyses may occur under different assumptions
about the nuisance parameters involved."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">impart</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/impart.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Information Monitoring - Continuous Outcomes</h6></li>
    <li><a class="dropdown-item" href="../articles/design_continuous.html">Designing Information Monitored Trials for Continuous Outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/monitoring_continuous.html">Monitoring Information for a Continuous Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/analyses_continuous.html">Monitored Analyses for a Continuous Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Information Monitoring - Binary Outcomes</h6></li>
    <li><a class="dropdown-item" href="../articles/design_binary.html">Designing Information Monitored Trials for Binary Outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/monitoring_binary.html">Monitoring Information for a Binary Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/analyses_binary.html">Monitored Analyses for a Binary Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Information Monitoring - Time-to-Event Outcomes</h6></li>
    <li><a class="dropdown-item" href="../articles/design_time_to_event.html">Designing Information Monitored Trials for Time-to-Event Outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/monitoring_time_to_event.html">Monitoring Information for a Time-to-Event Outcome</a></li>
    <li><a class="dropdown-item" href="../articles/analyses_time_to_event.html">Monitored Analyses for a Time-to-Event Outcome</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Additional Vignettes</h6></li>
    <li><a class="dropdown-item" href="../articles/analyses_group_sequential.html">Covariate Adjustment in Group Sequential Designs</a></li>
    <li><a class="dropdown-item" href="../articles/new_methods_in_impart.html">Implementing New Methods in `impart`</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Plans &amp; Specifications</h6></li>
    <li><a class="dropdown-item" href="../articles/plan_requirements.html">Software Requirements Specification</a></li>
    <li><a class="dropdown-item" href="../articles/plan_quality.html">Software Quality &amp; Management Plan</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jbetz-jhu/impart/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Approximate Information from Sample Size: Mann-Whitney Estimand</h1>
      <small class="dont-index">Source: <a href="https://github.com/jbetz-jhu/impart/blob/main/R/asymptotic_information_mann_whitney.R" class="external-link"><code>R/asymptotic_information_mann_whitney.R</code></a></small>
      <div class="d-none name"><code>mann_whitney.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function provides an asymptotic approximation to the information
(i.e. precision, inverse of the variance) provided by two samples under
assumed values of nuisance parameters for an ordinal outcome, analyzed using
the Mann-Whitney estimand. This can be obtained by specifying the value of
the Mann-Whitney estimand or the probability mass functions of outcomes in
each treatment arm. These functions may be useful in pre-trial
planning to determine when analyses may occur under different assumptions
about the nuisance parameters involved.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">asymptotic_information_mann_whitney_fm</span><span class="op">(</span></span>
<span>  <span class="va">n_0</span>,</span>
<span>  <span class="va">n_1</span>,</span>
<span>  mw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pmf_1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pmf_0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  adjust <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mw_from_pmfs</span><span class="op">(</span><span class="va">pmf_0</span>, <span class="va">pmf_1</span>, reverse_scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n-">n_0<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>A <code>numeric</code> vector containing the sample size in the control
arm.</p></dd>


<dt id="arg-n-">n_1<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>A <code>numeric</code> vector containing the sample size in the
treatment arm.</p></dd>


<dt id="arg-mw">mw<a class="anchor" aria-label="anchor" href="#arg-mw"></a></dt>
<dd><p>A <code>numeric</code> vector containing the Mann-Whitney estimand.</p></dd>


<dt id="arg-pmf-">pmf_1<a class="anchor" aria-label="anchor" href="#arg-pmf-"></a></dt>
<dd><p>A <code>numeric</code> vector or matrix of row vectors, each
containing the probability mass function of outcomes in the population of
individuals receiving the active intervention.</p></dd>


<dt id="arg-pmf-">pmf_0<a class="anchor" aria-label="anchor" href="#arg-pmf-"></a></dt>
<dd><p>A <code>numeric</code> vector or matrix of row vectors, each
containing the probability mass function of outcomes in the population of
individuals receiving the control intervention.</p></dd>


<dt id="arg-adjust">adjust<a class="anchor" aria-label="anchor" href="#arg-adjust"></a></dt>
<dd><p>A <code>logical</code> scalar, indicating whether an adjustment for
ties should be performed. <em>Note</em>: this can only be computed when
<code>pmf_0</code> and <code>pmf_1</code> are supplied.</p></dd>


<dt id="arg-reverse-scale">reverse_scale<a class="anchor" aria-label="anchor" href="#arg-reverse-scale"></a></dt>
<dd><p>A <code>logical</code> scalar: should the scales be reversed
when calculating the Mann-Whitney estimand? This may be useful when lower
categories indicate a preferable outcome.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>When all parameters are scalars, the result is a scalar, indicating
the approximate information. When multiple values are specified, a grid of
unique parameters are constructed, and the approximate information is
computed for each value of the parameters.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The amount of information in a sample of size \(N\) depends on
<em>nuisance parameters</em>, such as the variance of continuous outcomes,
the risk of binary and time-to-event outcomes, rates of misssing data, and
the correlation between covariates and the outcomes of interest.</p>
<p>In studies with a fixed sample size, this sample size is chosen based on
assumptions about these nuisance parameters, which are incorporated into the
<em>effect size</em>. The sample size is chosen to give power \((1 - \beta)\)
while maintaining a type I error rate of \((\alpha)\) under some assumed
effect size. Inaccurate estimates of nuisance parameters can lead to
over-powered or under-powered studies.</p>
<p>In an information-monitored design, investigators choose an estimand of
interest, such as the difference in means or proportions, that is free from
nuisance parameters. A trial is designed to identify some minimum important
difference \(\delta_{min}\) in the estimand with power \((1 - \beta)\)
while maintaining a type I error rate of \((\alpha)\). Data is collected
until the precision of the estimate (i.e. the reciprocal of its variance)
reaches a pre-specified threshold \(\mathcal{I}\):</p>
<p>$$\mathcal{I} = \left(\frac{Z_{\alpha/s} + Z_{\beta}}{\delta_{min}}\right)^2
\approx \frac{1}{Var(\hat{\delta})} =
\frac{1}{\left(SE(\hat{\delta})\right)^2}$$</p>
<p>The sample size required to reach the information target \(\mathcal{I}\)
depends on nuisance parameters mentioned above.</p>
<p>These functions allow a user to determine an approximate amount of
information contained in a sample of size \(N\) based on some assumptions
about the nuisance parameters.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fay, MP and Malinovsky, Y. 2018. "Confidence Intervals of the Mann-Whitney
Parameter That Are Compatible with the Wilcoxon-Mann-Whitney Test."
<em>Statistics in Medicine</em> 37 (27): 3991–4006.
<a href="https://doi.org/10.1002/sim.7890" class="external-link">https://doi.org/10.1002/sim.7890</a>.Zhao, YD, Rahardja D, and Qu Y. 2007. "Sample Size Calculation for the
Wilcoxon–Mann–Whitney Test Adjusting for Ties." <em>Statistics in Medicine</em>
27 (3): 462–68. https://doi.org/10.1002/sim.2912.Benkeser, D, Díaz, I, Luedtke, A, Segal, J, Scharfstein, D, and Rosenblum,
M. 2020. "Improving Precision and Power in Randomized Trials for COVID-19
Treatments Using Covariate Adjustment, for Binary, Ordinal, and Time-to-Event
Outcomes." <em>Biometrics</em> 77 (4): 1467–81.
<a href="https://doi.org/10.1111/biom.13377" class="external-link">https://doi.org/10.1111/biom.13377</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="asymptotic_information.html">asymptotic_information_difference_means</a> for the
information on the difference in means,
<a href="asymptotic_information.html">asymptotic_information_difference_proportions</a> for the information
on a difference in proportions (i.e. a risk difference),
<a href="asymptotic_information.html">asymptotic_information_relative_risk</a> for the information on the
relative risk (i.e. risk ratio), and <a href="asymptotic_information_logrank.html">asymptotic_information_logrank</a>
for information on the log hazard ratio estimand.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># When a single value is supplied for each parameter, a scalar is returned:</span></span></span>
<span class="r-in"><span><span class="fu">asymptotic_information_mann_whitney_fm</span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_0 <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>    n_1 <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>    mw <span class="op">=</span> <span class="fl">0.75</span>,</span></span>
<span class="r-in"><span>    adjust <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.001185536</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When multiple values are supplied for one or more parameters, the grid of</span></span></span>
<span class="r-in"><span><span class="co"># parameters are created, and a data.frame is returned.</span></span></span>
<span class="r-in"><span><span class="fu">asymptotic_information_mann_whitney_fm</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">150</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  n_1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">150</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  mw <span class="op">=</span> <span class="fl">0.75</span>,</span></span>
<span class="r-in"><span>  adjust <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n_0 n_1   mw t information_asymptotic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 100 100 0.75 1           0.0011855357</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 150 100 0.75 1           0.0009867857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 100 150 0.75 1           0.0009867857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 150 150 0.75 1           0.0007888095</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specifying PMFs - With and Without Tie Adjustment</span></span></span>
<span class="r-in"><span><span class="fu">asymptotic_information_mann_whitney_fm</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_0 <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  n_1 <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  pmf_0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pmf_1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  adjust <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.001036432</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specifying Multiple PMFs</span></span></span>
<span class="r-in"><span><span class="fu">asymptotic_information_mann_whitney_fm</span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_0 <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  n_1 <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  pmf_0 <span class="op">=</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.1</span>, <span class="fl">0.6</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>  pmf_1 <span class="op">=</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.9</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span>,</span></span>
<span class="r-in"><span>  adjust <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n_0 n_1 pmf_0 pmf_1    mw         t pmf_0_1 pmf_0_2 pmf_0_3 pmf_1_1 pmf_1_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 100 100     1     1 0.600 0.6502663     0.2     0.2     0.6    0.10    0.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 100 100     2     1 0.610 0.6480162     0.3     0.1     0.6    0.10    0.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 100 100     1     2 0.650 0.5742331     0.2     0.2     0.6    0.05    0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 100 100     2     2 0.655 0.5723581     0.3     0.1     0.6    0.05    0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pmf_1_3 information_asymptotic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.8           0.0010364315</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0.8           0.0010218898</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     0.9           0.0008578564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0.9           0.0008481421</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://publichealth.jhu.edu/faculty/2679/joshua-betz" class="external-link">Josh Betz</a>, <a href="https://kellyvanlancker.com/" class="external-link">Kelly Van Lancker</a>, <a href="https://mrosenblumbiostat.wordpress.com/" class="external-link">Michael Rosenblum</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

